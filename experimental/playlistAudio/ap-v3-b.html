<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AMPv3 - Ahoy Music Player - as of 8.15a</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="ap3-style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- SEO for Google and other search engines -->
    <meta name="description" content="Ahoy Indie Media Player - A hand-crafted media player for indie music. Discover and listen to your favorite indie artists.">
    <meta name="keywords" content="Ahoy, Indie, Media, Player, Music, Artists">
    <meta name="author" content="Ahoy Indie Media">
</head>

<body id="index-body">
    <h1 style="text-align:center;">This is v3-b</h1>
    <!-- Add the clock div below the Ahoy Header -->
    <div class="clock" id="clockDisplay" style="font-size: 48px; text-align: center;"></div>

    <!-- Add Light/Dark mode toggle button after the clock div -->
    <button id="themeToggle">Toggle Light/Dark Mode</button>

    <!-- TOP MUSIC BAR -->
    <div class="topMusicBar">
        <div class="superAudio">
            <audio id="audioPlayer">
                <source src="" type="audio/mpeg">
                Your browser does not support the audio element.
            </audio>
            <div class="controls">
                <div><span>Now Playing</span></div>
                <div id="currentArtist"></div>
                <div id="currentSong"></div>
                <button id="playPauseBtn">Play</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div><button>Add to Playlist</button></div>
            </div>
        </div>
    </div>
    <!-- TOP BAR MUSIC END -->

    <!-- SEARCH BAR -->
    <div class="searchBarContainer">
        <input type="text" id="searchInput" placeholder="Search for a song..." onkeyup="handleKeyPress(event)">
        <button onclick="searchSongs()">Search</button>
        <button id="likeButton"><i class="fas fa-heart"></i></button>
    </div>

    <!-- SEARCH BAR CODE -->
  
    <script>
        

        function searchSongs() {
            const searchQuery = document.getElementById('searchInput').value.toLowerCase();
            const songListDiv = document.getElementById('songList');

            let filteredSongs = jsonData.songs.filter(song => {
                return song.name.toLowerCase().includes(searchQuery) || song.artist.toLowerCase().includes(searchQuery);
            });

            let html = '';
            filteredSongs.forEach(song => {
                html += `
                    <div class="song-item">
                        <h4 class="song-name">${song.name}</h4>
                        <p class="song-artist">${song.artist}</p>
                    </div>`;
            });

            songListDiv.innerHTML = html;
        }

        // Function to handle the keyup event on the search input
        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                searchSongs();
            }
        }

        window.onload = function () {
            renderArtists();
            searchSongs(); // This will display all songs by default
        };


        // Load the masterMusic.json file using AJAX request
        const xhr = new XMLHttpRequest();
        xhr.open('GET', 'oooAHOYooo.github.io/experimental/playlistAudio/masterMusic.json', true);
        xhr.onload = function () {
            if (xhr.status === 200) {
                const jsonData = JSON.parse(xhr.responseText);

                function searchSongs() {
                    // Search logic...
                }

                // Rest of the code...
            }
        };
        xhr.send();

    </script>

    <div class="volume-control neumorphic-slider">
        <input type="range" id="volumeSlider" min="0" max="1" step="0.1" value="1">
    </div>

    <!-- IMPORTANT -->
    <script src="./songList.js"></script>

    <div class="ahoyHeader">
        <a href="/index.html"><img src="/assets/u_ahoy23.png" class="ahoyMusicLogo"></a>
    </div>
    <div>Search Results
        <div id="searchResults" class="searchResultsContainer"></div>
    </div>



    <!-- SONG LIST -->
    <section>
    <div id="songList">
        <table style="border-collapse: collapse; width: 100%;">
            <thead>
                <tr style="background-color: #000000; color: #ffffff;">
                    <th style="padding: 10px;">Song Name</th>
                    <th style="padding: 10px;">Artist</th>
                </tr>
            </thead>
            <tbody>
                <!-- Song list will be dynamically generated here -->
                <tr v-for="song in songs" :key="song.id">
                    <td style="padding: 10px;">{{ song.name }}</td>
                    <td style="padding: 10px;">{{ song.artist }}</td>
                </tr>
            </tbody>
        </table>
    </div>
</section>

    <!-- CORE STRUCTURE -->
    

    <!-- CORE STRUCTURE -->
    <div class="flexWRAPS">
        <div class="playlist-container">
            <h2>Playlists</h2>
            <input type="text" id="newPlaylistName" placeholder="Playlist name...">
            <button onclick="createPlaylist()">Create Playlist</button>
            <div id="playlists"></div>
            <div class="playlist-container">
                MORE AND MORE AND more
                <div id="searchResults" class="searchResultsContainer"></div>
                <div>
                    Artist Section - List of Artists
                </div>
            </div>
        </div>
        <!-- END OF LEFT SIDEBAR -->
        <!-- END OF CORE STRUCTURE-->

        <script>
            function toggleBigBottom() {
                const bigBottom = document.getElementById('bigBottom');
                bigBottom.classList.toggle('big-bottom-active');
            }

            function createPlaylist() {
                const newPlaylistName = document.getElementById('newPlaylistName').value;
                // Logic to create a new playlist
            }

            // Rest of the code...

        </script>

    </body>

    </html>