<!DOCTYPE html>
<html>
<head>
    <title>Ahoy Indie Media</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="./assets/ahoyFav.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css" integrity="sha512-YWzhKL2whUzgiheMoBFwW8CKV4qpHQAEuvilg9FAn5VJUDwKZZxkJNuGM4XkWuk94WCrrwslk8yWNGmY1EduTA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="mobile-l5.css">
</head>
<body>
    <div class="container">
        <header>
<img src="../assets/u_ahoy23.png" style="max-width: 20%;"> 
<!--
<button>Playlist</button>
<button>My Account</button> -->
       </header>

<style>
.now-playing {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 20px;
    color: var(--text-color);
}

#album-art {
    width: 200px; /* Adjust this to change the size of the album art */
    height: 200px; /* Adjust this to change the size of the album art */
    object-fit: cover; /* This will make sure the image scales nicely */
    margin-bottom: 20px; /* Space between the album art and the song title */
}

.song-info {
    text-align: center;
}

.song-info h2, .song-info h3 {
    margin: 0;
}

.song-controls {
    display: flex;
    justify-content: space-around;
    width: 100%;
    margin-top: 20px;
}

.control-button {
    color: var(--text-color);
    background: var(--background-color);
    border: none;
    font-size: 32px;
    cursor: pointer;
}

.control-button:focus {
    outline: none;
}
</style>
       <div id="nowplaying-tab" class="tab-content">
        <div class="now-playing">
            <img id="album-art" src="path_to_your_album_art.jpg" alt="Album Art">
            <div class="song-info">
                <h2 id="current-song-title">Song Title</h2>
                <h3 id="current-song-artist">Artist Name</h3>
            </div>
            <div class="song-controls">
                <button id="prev" class="control-button"><i class="fas fa-step-backward"></i></button>
                <button id="play-pause" class="control-button"><i class="fas fa-play"></i></button>
                <button id="next" class="control-button"><i class="fas fa-step-forward"></i></button>
            </div>
        </div>
       </div>



        <div id="songs-tab" class="tab-content active">
            <ul class="list" id="song-list"></ul>

<!-- RADIO -->
<style>

  </style>

<div class="radio-wrap">
    <script src="https://embed.radio.co/player/0024c4d.js"></script><br>
    <p><i class="fas fa-broadcast-tower"></i> = <i class="fas fa-circle" style="color:rgb(0, 255, 221);"></i> </p>
</div>

        </div>
        <div id="artists-tab" class="tab-content">
            <!-- Artists content goes here -->
            <ul class="list" id="artist-list"></ul>
        </div>
        <div id="playlists-tab" class="tab-content">
            <!-- Playlists content goes here -->
            <div id="playlists-tab" class="tab-content">
                <input type="text" id="playlist-name" placeholder="New Playlist Name">
                <button onclick="createPlaylist()">Create Playlist</button>
                <select id="playlist-selector" onchange="showPlaylist()">
                    <!-- Playlist options will be populated here -->
                </select>
                <ul class="list" id="playlist-songs">
                    <!-- Playlist songs will be populated here -->
                </ul>
                <ul class="list" id="all-songs">
                    <!-- All songs will be populated here with an "Add to Playlist" button -->
                </ul>
            </div>
        </div>
        <div id="cable-tab" class="tab-content">
            <div id="playerContainer" style="position:relative;overflow:hidden;padding-bottom:56.25%">
                <iframe src='https://cdn.jwplayer.com/players/QI6O3pW7-9Gtk2B1J.html' id="playerFrame" width="100%" height="100%" frameborder="0" scrolling="auto" title="Untitled Manual Playlist" style="position:absolute;" allowfullscreen></iframe>
                </div>
        </div>

        <div id="updates-tab" class="tab-content">
            This is where the updates will go
            <div id="commits-list"></div>
                </div>

        <div id="account-tab" class="tab-content">
            This is where the account data will go 
            <h3>change theme</h3>


        </div>

        <!-- GAMES -->
        <!-- Add this in your HTML where you want the games tab to appear -->
<div id="games-tab" class="tab-content">
    THIS IS WHERE THE GAME CONTENT WILL GO 
    <div id="games-tab" class="tab-content">
        <iframe id="tetris-frame" src="../games/console/tetris/tetris.html" style="width:100%; height:100%; border:none;"></iframe>
    </div>
    <!-- Games content goes here -->
</div>

<!-- MEEEEDIIAA -->

<div id="media-tab" class="tab-content">
    <!-- Media content goes here -->
    MEDDIA
</div>
    </div>


    <section class="player">
        <div class="player-content">
            <div class="player-info">
                <a href="#" id="artist-name" class="player-link">Artist Name</a>
                <a href="#" id="song-title" class="player-link">Song Title</a>
            </div>
            <div class="player-controls">
                <button id="prev" class="player-button"><i class="fas fa-step-backward"></i></button>
                <button id="play" class="player-button"><i class="fas fa-play"></i></button>
                <button id="next" class="player-button" onclick="nextSong()"><i class="fas fa-step-forward"></i></button>
            </div>
            <div class="player-actions">
                <button id="like" class="player-button"><i class="fas fa-heart"></i></button>
                <button id="playlist" class="player-button"><i class="fas fa-plus"></i></button>
            </div>
        </div>
        <audio id="audio-player" src=""></audio>
    </section>



    <div class="bottom-controller fixed-bottom">
        <button id="left-arrow" onclick="prevTab()"><i class="fas fa-arrow-left"></i></button>
        <span id="tab-indicator">Songs</span> <!-- Default text for the first tab -->
        <button id="right-arrow" onclick="nextTab()"><i class="fas fa-arrow-right"></i></button>
    </div>


  







    <script>
        const playlists = {};  // Object to hold playlists

        function switchTab(tabName) {
            const contents = document.querySelectorAll('.tab-content');
            for (const content of contents) {
                content.classList.remove('active');
            }
            const activeTab = document.getElementById(`${tabName}-tab`);
            activeTab.classList.add('active');

          
        }



        let currentTabIndex = 0; // Assuming you have a global variable to keep track of the current tab

function nextTab() {
    currentTabIndex++;
    if (currentTabIndex > 8) { // Reset to the first tab if we've gone past the last one
        currentTabIndex = 0;
    }
    switchTabByIndex(currentTabIndex);
}

function prevTab() {
    currentTabIndex--;
    if (currentTabIndex < 0) { // Loop back to the last tab if we've gone past the first one
        currentTabIndex = 8;
    }
    switchTabByIndex(currentTabIndex);
}

// Extend the existing switchTab function to accept an index
function switchTabByIndex(tabIndex) {
    const tabs = ['songs', 'artists', 'playlists', 'cable']; // Add or update the id names of your tabs in order
    const tabIndicator = document.getElementById('tab-indicator');
    if (tabIndex >= 0 && tabIndex < tabs.length) {
        switchTab(tabs[tabIndex]);
        // Update the tab indicator text
        tabIndicator.textContent = tabs[tabIndex].charAt(0).toUpperCase() + tabs[tabIndex].slice(1); // Capitalize the first letter
    }
}

// You might need to call the switchTabByIndex function once at the start to initialize the correct tab name
switchTabByIndex(currentTabIndex);



function playSong(artist, title, url) {
    // Update Now Playing section
    document.getElementById('current-song-artist').textContent = artist;
    document.getElementById('current-song-title').textContent = title;
    // Update bottom player section
    document.getElementById('artist-name').textContent = artist;
    document.getElementById('song-title').textContent = title;
    // Update and play the song
    const audioPlayer = document.getElementById('audio-player');
    audioPlayer.src = url;
    audioPlayer.play();
}


        document.getElementById('play-pause').addEventListener('click', function() {
    const audioPlayer = document.getElementById('audio-player');
    const playPauseIcon = document.getElementById('play-pause').firstChild;
    if (audioPlayer.paused) {
        audioPlayer.play();
        playPauseIcon.className = 'fas fa-pause';
    } else {
        audioPlayer.pause();
        playPauseIcon.className = 'fas fa-play';
    }
});

        function createPlaylist() {
            const playlistName = document.getElementById('playlist-name').value;
            if (playlistName) {
                playlists[playlistName] = [];
                const selector = document.getElementById('playlist-selector');
                const option = document.createElement('option');
                option.value = playlistName;
                option.textContent = playlistName;
                selector.appendChild(option);
            }
        }

        function addToPlaylist(song, playlistName) {
            if (playlists[playlistName]) {
                playlists[playlistName].push(song);
                showPlaylist();
            }
        }

        function showPlaylist() {
            const playlistName = document.getElementById('playlist-selector').value;
            const playlistSongs = document.getElementById('playlist-songs');
            playlistSongs.innerHTML = '';
            playlists[playlistName].forEach(song => {
                const songItem = document.createElement('li');
                songItem.className = 'list-item';
                songItem.innerHTML = `
                    <div>
                        <strong>${song.songTitle}</strong><br>
                        ${song.artist}
                    </div>
                `;
                playlistSongs.appendChild(songItem);
            });
        }

        function loadArtists() {
            fetch('artistData.json')
            .then(response => response.json())
            .then(data => {
                const artists = data.artists;
                const artistList = document.getElementById('artist-list');
                artists.forEach(artist => {
                    const artistItem = document.createElement('li');
                    artistItem.className = 'list-item';
                    artistItem.innerHTML = `
                        <div class="artist-item">
                 
                            <div class="artist-info">
                                <strong><a href="${artist.artistUrl}">${artist.name}</a></strong><br>
                                Location: ${artist.location}<br>
                                <a href="${artist.supportLink}">Support</a> |
                                <a href="${artist.shareLink}">Share</a> |
                                <a href="${artist.messageLink}">Message</a>
                            </div>
                        </div>
                    `;
                    artistList.appendChild(artistItem);
                });
            })
            .catch(error => console.error('Error:', error));
        }

        function loadSongsAndPlaylists() {
            fetch('l5.json')
            .then(response => response.json())
            .then(data => {
                const songs = data.songs;
                const songList = document.getElementById('song-list');
                const allSongsList = document.getElementById('all-songs');

                songs.forEach(song => {
                    const songItem = document.createElement('li');
                    songItem.className = 'list-item';
                    songItem.innerHTML = `
                        <div onclick="playSong('${song.artist}', '${song.songTitle}', '${song.mp3url}')">
                            <strong>${song.songTitle}</strong><br>
                            ${song.artist}
                        </div>
               
                    `;
                    songList.appendChild(songItem);

                    const allSongItem = document.createElement('li');
                    allSongItem.className = 'list-item';
                    allSongItem.innerHTML = `
                        <div>
                            <strong>${song.songTitle}</strong><br>
                            ${song.artist}
                        </div>
                        <button onclick="addToPlaylist(${JSON.stringify(song)}, '${document.getElementById('playlist-selector').value}')">Add to Playlist</button>
                    `;
                    allSongsList.appendChild(allSongItem);
                });
            })
            .catch(error => console.error('Error:', error));
        }

        // Initial data load
        loadArtists();
        loadSongsAndPlaylists();

         // Get player buttons
    const prevButton = document.getElementById('prev');
    const playButton = document.getElementById('play');
    const nextButton = document.getElementById('next');
    const likeButton = document.getElementById('like');
    const playlistButton = document.getElementById('playlist');

    // Add event listeners
    prevButton.addEventListener('click', prevSong);
    playButton.addEventListener('click', togglePlay);
    nextButton.addEventListener('click', nextSong);
    likeButton.addEventListener('click', likeSong);
    playlistButton.addEventListener('click', addToPlaylistButton);

    // Define functions
    function prevSong() {
        // Code to play the previous song
    }

    function togglePlay() {
        // Code to play/pause the song
        const audioPlayer = document.getElementById('audio-player');
        if (audioPlayer.paused) {
            audioPlayer.play();
            playButton.innerHTML = '<i class="fas fa-pause"></i>';
        } else {
            audioPlayer.pause();
            playButton.innerHTML = '<i class="fas fa-play"></i>';
        }
    }

    function nextSong() {
    // Increment the current song index
    currentSongIndex++;

    // If it's the last song, loop back to the first one
    if (currentSongIndex >= songs.length) {
        currentSongIndex = 0;
    }

    // Play the next song
    playSong(songs[currentSongIndex].artist, songs[currentSongIndex].songTitle, songs[currentSongIndex].mp3url);
}

    function likeSong() {
        // Code to like the current song
    }

    function addToPlaylistButton() {
        // Code to add the current song to the playlist
    }

    let currentSongIndex = 0; // Assuming you have a global variable to keep track of the current song
const songs = []; // Assuming you have a global array of songs



let likedSongs = []; // Assuming you have a global array to store liked songs

function likeSong() {
    // Add the current song to the liked songs array
    likedSongs.push(songs[currentSongIndex]);

    // Update the like button to reflect the change
    likeButton.innerHTML = '<i class="fas fa-heart"></i>';
}

function addToPlaylistButton() {
    // Add the current song to the selected playlist
    addToPlaylist(songs[currentSongIndex], document.getElementById('playlist-selector').value);
}
    </script>

<script>
 

// Extend the existing switchTab function to accept an index
function switchTabByIndex(tabIndex) {
    const tabs = ['nowplaying','songs', 'artists', 'playlists', 'cable', 'updates', 'games', 'media', 'account']; // Add "games" to the tabs array
    const tabIndicator = document.getElementById('tab-indicator');
    if (tabIndex >= 0 && tabIndex < tabs.length) {
        switchTab(tabs[tabIndex]);
        // Update the tab indicator text
        tabIndicator.textContent = tabs[tabIndex].charAt(0).toUpperCase() + tabs[tabIndex].slice(1); // Capitalize the first letter
    }
}






// You might need to call the switchTabByIndex function once at the start to initialize the correct tab name
switchTabByIndex(currentTabIndex);

function loadCommits() {
    fetch('https://api.github.com/repos/oooAHOYooo/oooAHOYooo.github.io/commits')
        .then(response => response.json())
        .then(commits => {
            const commitsList = document.getElementById('commits-list');
            commitsList.innerHTML = ''; // Clear the list

            commits.forEach(commit => {
                const commitItem = document.createElement('div');
                commitItem.className = 'commit-item';

                const date = new Date(commit.commit.author.date);
                const formattedDate = `${date.getDate()}-${date.getMonth()+1}-${date.getFullYear()} ${date.getHours()}:${date.getMinutes()}`;

                commitItem.innerHTML = `
                    <h3>${commit.commit.message}</h3>
                    <p>Author: ${commit.commit.author.name}</p>
                    <p>Date: ${formattedDate}</p>
                `;

                commitsList.appendChild(commitItem);
            });
        })
        .catch(error => console.error('Error:', error));
}


</script>



</body>
</html>
