<!DOCTYPE html>
<html>
<head>
    <title>Ahoy Indie Media</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css" integrity="sha512-YWzhKL2whUzgiheMoBFwW8CKV4qpHQAEuvilg9FAn5VJUDwKZZxkJNuGM4XkWuk94WCrrwslk8yWNGmY1EduTA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="mobile-l5.css">
</head>
<body>
    <div class="container">
        <header>
            This is where the header would go
        </header>
        <h1>Welcome to Ahoy Indie Media</h1>
        <div id="songs-tab" class="tab-content active">
            <ul class="list" id="song-list"></ul>
        </div>
        <div id="artists-tab" class="tab-content">
            <!-- Artists content goes here -->
            <ul class="list" id="artist-list"></ul>
        </div>
        <div id="playlists-tab" class="tab-content">
            <!-- Playlists content goes here -->
            <div id="playlists-tab" class="tab-content">
                <input type="text" id="playlist-name" placeholder="New Playlist Name">
                <button onclick="createPlaylist()">Create Playlist</button>
                <select id="playlist-selector" onchange="showPlaylist()">
                    <!-- Playlist options will be populated here -->
                </select>
                <ul class="list" id="playlist-songs">
                    <!-- Playlist songs will be populated here -->
                </ul>
                <ul class="list" id="all-songs">
                    <!-- All songs will be populated here with an "Add to Playlist" button -->
                </ul>
            </div>
        </div>
    </div>


    <section class="player">
        <div class="player-content">
            <div class="player-info">
                <a href="#" id="artist-name" class="player-link">Artist Name</a>
                <a href="#" id="song-title" class="player-link">Song Title</a>
            </div>
            <div class="player-controls">
                <button id="prev" class="player-button"><i class="fas fa-step-backward"></i></button>
                <button id="play" class="player-button"><i class="fas fa-play"></i></button>
                <button id="next" class="player-button onclick="nextSong"><i class="fas fa-step-forward"></i></button>
            </div>
            <div class="player-actions">
                <button id="like" class="player-button"><i class="fas fa-heart"></i></button>
                <button id="playlist" class="player-button"><i class="fas fa-plus"></i></button>
            </div>
        </div>
        <audio id="audio-player" src=""></audio>
    </section>


    <div class="bottom-nav">
        <a href="#" onclick="switchTab('songs')">Songs <i class="fas fa-music"></i></a>
        <a href="#" onclick="switchTab('artists')">Artists <i class="fas fa-user"></i></a>
        <a href="#" onclick="switchTab('playlists')">Playlists <i class="fas fa-list"></i></a>
    </div>


    <script>
        const playlists = {};  // Object to hold playlists

        function switchTab(tabName) {
            const contents = document.querySelectorAll('.tab-content');
            for (const content of contents) {
                content.classList.remove('active');
            }
            const activeTab = document.getElementById(`${tabName}-tab`);
            activeTab.classList.add('active');
        }

        function playSong(artist, title, url) {
            document.getElementById('artist-name').textContent = artist;
            document.getElementById('song-title').textContent = title;
            const audioPlayer = document.getElementById('audio-player');
            audioPlayer.src = url;
            audioPlayer.play();
        }

        function createPlaylist() {
            const playlistName = document.getElementById('playlist-name').value;
            if (playlistName) {
                playlists[playlistName] = [];
                const selector = document.getElementById('playlist-selector');
                const option = document.createElement('option');
                option.value = playlistName;
                option.textContent = playlistName;
                selector.appendChild(option);
            }
        }

        function addToPlaylist(song, playlistName) {
            if (playlists[playlistName]) {
                playlists[playlistName].push(song);
                showPlaylist();
            }
        }

        function showPlaylist() {
            const playlistName = document.getElementById('playlist-selector').value;
            const playlistSongs = document.getElementById('playlist-songs');
            playlistSongs.innerHTML = '';
            playlists[playlistName].forEach(song => {
                const songItem = document.createElement('li');
                songItem.className = 'list-item';
                songItem.innerHTML = `
                    <div>
                        <strong>${song.songTitle}</strong><br>
                        ${song.artist}
                    </div>
                `;
                playlistSongs.appendChild(songItem);
            });
        }

        function loadArtists() {
            fetch('artistData.json')
            .then(response => response.json())
            .then(data => {
                const artists = data.artists;
                const artistList = document.getElementById('artist-list');
                artists.forEach(artist => {
                    const artistItem = document.createElement('li');
                    artistItem.className = 'list-item';
                    artistItem.innerHTML = `
                        <div class="artist-item">
                            <img src="${artist.featuredImage}" alt="${artist.name}">
                            <div class="artist-info">
                                <strong><a href="${artist.artistUrl}">${artist.name}</a></strong><br>
                                Location: ${artist.location}<br>
                                <a href="${artist.supportLink}">Support</a> |
                                <a href="${artist.shareLink}">Share</a> |
                                <a href="${artist.messageLink}">Message</a>
                            </div>
                        </div>
                    `;
                    artistList.appendChild(artistItem);
                });
            })
            .catch(error => console.error('Error:', error));
        }

        function loadSongsAndPlaylists() {
            fetch('l5.json')
            .then(response => response.json())
            .then(data => {
                const songs = data.songs;
                const songList = document.getElementById('song-list');
                const allSongsList = document.getElementById('all-songs');

                songs.forEach(song => {
                    const songItem = document.createElement('li');
                    songItem.className = 'list-item';
                    songItem.innerHTML = `
                        <div onclick="playSong('${song.artist}', '${song.songTitle}', '${song.mp3url}')">
                            <strong>${song.songTitle}</strong><br>
                            ${song.artist}
                        </div>
               
                    `;
                    songList.appendChild(songItem);

                    const allSongItem = document.createElement('li');
                    allSongItem.className = 'list-item';
                    allSongItem.innerHTML = `
                        <div>
                            <strong>${song.songTitle}</strong><br>
                            ${song.artist}
                        </div>
                        <button onclick="addToPlaylist(${JSON.stringify(song)}, '${document.getElementById('playlist-selector').value}')">Add to Playlist</button>
                    `;
                    allSongsList.appendChild(allSongItem);
                });
            })
            .catch(error => console.error('Error:', error));
        }

        // Initial data load
        loadArtists();
        loadSongsAndPlaylists();

         // Get player buttons
    const prevButton = document.getElementById('prev');
    const playButton = document.getElementById('play');
    const nextButton = document.getElementById('next');
    const likeButton = document.getElementById('like');
    const playlistButton = document.getElementById('playlist');

    // Add event listeners
    prevButton.addEventListener('click', prevSong);
    playButton.addEventListener('click', togglePlay);
    nextButton.addEventListener('click', nextSong);
    likeButton.addEventListener('click', likeSong);
    playlistButton.addEventListener('click', addToPlaylistButton);

    // Define functions
    function prevSong() {
        // Code to play the previous song
    }

    function togglePlay() {
        // Code to play/pause the song
        const audioPlayer = document.getElementById('audio-player');
        if (audioPlayer.paused) {
            audioPlayer.play();
            playButton.innerHTML = '<i class="fas fa-pause"></i>';
        } else {
            audioPlayer.pause();
            playButton.innerHTML = '<i class="fas fa-play"></i>';
        }
    }

    function nextSong() {
    // Increment the current song index
    currentSongIndex++;

    // If it's the last song, loop back to the first one
    if (currentSongIndex >= songs.length) {
        currentSongIndex = 0;
    }

    // Play the next song
    playSong(songs[currentSongIndex].artist, songs[currentSongIndex].songTitle, songs[currentSongIndex].mp3url);
}

    function likeSong() {
        // Code to like the current song
    }

    function addToPlaylistButton() {
        // Code to add the current song to the playlist
    }

    let currentSongIndex = 0; // Assuming you have a global variable to keep track of the current song
const songs = []; // Assuming you have a global array of songs



let likedSongs = []; // Assuming you have a global array to store liked songs

function likeSong() {
    // Add the current song to the liked songs array
    likedSongs.push(songs[currentSongIndex]);

    // Update the like button to reflect the change
    likeButton.innerHTML = '<i class="fas fa-heart"></i>';
}

function addToPlaylistButton() {
    // Add the current song to the selected playlist
    addToPlaylist(songs[currentSongIndex], document.getElementById('playlist-selector').value);
}
    </script>


</body>
</html>
